<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ABSI EXCHANGE</title>
    <style>
        :root { --bg: #0b0e11; --card: #161a1e; --yellow: #fcd535; --green: #0ecb81; --red: #f6465d; --gray: #848e9c; }
        
        body, html { 
            margin: 0; padding: 0; height: 100%; 
            background: var(--bg); color: white; 
            font-family: sans-serif; overflow: hidden;
            display: flex; flex-direction: column; 
        }

        /* 1. ضبط الهيدر لينزل للأسفل ويظهر الشعار بوضوح */
        .app-header {
            background: var(--card); 
            padding: 15px 12px 10px 12px; /* زيادة التباعد العلوي */
            border-bottom: 1px solid #2b3139;
            flex-shrink: 0;
        }
        .top-nav { display: flex; justify-content: space-around; font-size: 0.8rem; color: var(--gray); margin-bottom: 12px; }
        .top-nav span.active { color: white; border-bottom: 2px solid var(--yellow); padding-bottom: 4px; }
        
        .pair-bar { display: flex; justify-content: space-between; align-items: center; }
        .pair-info { display: flex; align-items: center; gap: 10px; }
        .logo-small { width: 28px; height: 28px; border-radius: 50%; border: 1px solid var(--yellow); }

        /* 2. منطقة التداول - فك التكدس */
        .trade-section { 
            display: grid; grid-template-columns: 1fr 1fr; 
            background: var(--bg); padding: 10px 0;
            flex-shrink: 0; 
        }

        .order-panel { padding: 0 10px; display: flex; flex-direction: column; gap: 8px; }
        .side-tabs { display: flex; border-radius: 4px; overflow: hidden; height: 35px; }
        .side-tabs button { flex: 1; border: none; font-weight: bold; cursor: pointer; }
        .btn-buy { background: var(--green); color: white; }
        .btn-sell { background: #2b3139; color: var(--gray); }

        .mini-input { background: #2b3139; border-radius: 4px; padding: 10px; font-size: 0.8rem; display: flex; justify-content: space-between; }
        .execute-btn { background: var(--green); color: white; border: none; padding: 12px; border-radius: 4px; font-weight: bold; margin-top: 5px; }

        .order-book { padding: 0 10px; font-size: 0.75rem; border-left: 1px solid #2b3139; height: 180px; overflow: hidden; }
        .ob-row { display: flex; justify-content: space-between; line-height: 1.6; }

        /* 3. تصغير منطقة الشموع لتعيد التوازن */
        .chart-box { 
            height: 35%; /* تقليل الارتفاع للسماح بظهور باقي العناصر */
            width: 100%; background: #000; border-top: 1px solid #2b3139; border-bottom: 1px solid #2b3139;
        }

        /* 4. العداد السفلي */
        .listing-footer { 
            padding: 20px 10px; text-align: center; 
            background: var(--card); flex-shrink: 0;
        }
        .timer-grid { display: flex; justify-content: center; gap: 10px; }
        .t-unit { background: var(--yellow); color: black; padding: 10px; border-radius: 8px; min-width: 60px; font-weight: bold; }
        .t-unit span { font-size: 1.4rem; display: block; }
    </style>
</head>
<body>

    <header class="app-header">
        <div class="top-nav">
            <span>تحويل</span><span class="active">فوري</span><span>عقود</span><span>تداول</span>
        </div>
        <div class="pair-bar">
            <div class="pair-info">
                <img src="Unnamed.jpg" class="logo-small">
                <span style="font-weight:bold; font-size: 1.1rem;">ABSI/USDT</span>
                <span style="color:var(--green); font-size:0.8rem;">+12.5%</span>
            </div>
            <select id="pairSelect" style="background:transparent; color:var(--yellow); border:1px solid var(--yellow); border-radius:4px; font-size:0.7rem;">
                <option>تغيير الزوج</option>
                <option>BTC/USDT</option>
                <option>ETH/USDT</option>
            </select>
        </div>
    </header>

    <main class="trade-section">
        <div class="order-panel">
            <div class="side-tabs">
                <button class="btn-buy">شراء</button>
                <button class="btn-sell">بيع</button>
            </div>
            <div class="mini-input"><span>السعر</span><b>0.0025</b></div>
            <div class="mini-input"><span>المبلغ</span><span style="color:var(--gray)">ABSI</span></div>
            <button class="execute-btn">شراء ABSI</button>
        </div>

        <div class="order-book" id="ob"></div>
    </main>

    <div class="chart-box">
        <div id="tv_chart" style="height:100%; width:100%;"></div>
    </div>

    <footer class="listing-footer">
        <h3 style="color:var(--yellow); margin-bottom:10px; font-size:1rem;">ABSI LISTING COUNTDOWN</h3>
        <div class="timer-grid">
            <div class="t-unit"><span id="d">18</span><small>يوم</small></div>
            <div class="t-unit"><span id="h">23</span><small>ساعة</small></div>
            <div class="t-unit"><span id="m">59</span><small>دقيقة</small></div>
            <div class="t-unit"><span id="s">00</span><small>ثانية</small></div>
        </div>
    </footer>

    <script src="https://s3.tradingview.com/tv.js"></script>
    <script>
        new TradingView.widget({
            "autosize": true, "symbol": "BINANCE:BTCUSDT", "interval": "15", "theme": "dark", "style": "1", "locale": "ar", "container_id": "tv_chart", "hide_top_toolbar": true
        });

        function fillOB() {
            const ob = document.getElementById('ob');
            let h = '';
            for(let i=0; i<4; i++) h += `<div class="ob-row"><span style="color:var(--red)">0.0025${i}</span><span>${(Math.random()*5).toFixed(1)}M</span></div>`;
            h += `<div style="color:var(--green); font-weight:bold; padding:5px 0; text-align:center;">0.002514 ↑</div>`;
            for(let i=0; i<4; i++) h += `<div class="ob-row"><span style="color:var(--green)">0.0024${i}</span><span>${(Math.random()*5).toFixed(1)}M</span></div>`;
            ob.innerHTML = h;
        }
        setInterval(fillOB, 1000); fillOB();

        const end = new Date(); end.setDate(end.getDate() + 18);
        function updateT() {
            const diff = end - new Date();
            document.getElementById('d').innerText = Math.floor(diff / (1000*60*60*24));
            document.getElementById('h').innerText = Math.floor((diff / (1000*60*60)) % 24);
            document.getElementById('m').innerText = Math.floor((diff / (1000*60)) % 60);
            document.getElementById('s').innerText = Math.floor((diff / 1000) % 60);
        }
        setInterval(updateT, 1000); updateT();
    </script>
</body>
</html>
