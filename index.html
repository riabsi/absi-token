<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ABSI NEXUS | Professional Security System</title>
    <style>
        :root { --bg: #0b0e11; --panel: #1e2329; --gold: #f0b90b; --buy: #0ecb81; --sell: #f6465d; --text-gray: #848e9c; }
        body { background-color: var(--bg); color: white; margin: 0; font-family: sans-serif; overflow-x: hidden; }
        
        /* ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù€ Modals ÙˆØ§Ù„Ù€ Sidebar */
        .full-screen-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 3000; display: none; flex-direction: column; }
        .modal-header { padding: 20px; display: flex; align-items: center; border-bottom: 1px solid #222; }
        .back-btn { font-size: 1.5rem; cursor: pointer; margin-left: 15px; }

        /* Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø´Ø®ØµÙŠØ© */
        .avatar-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; padding: 20px; overflow-y: auto; }
        .avatar-item { width: 70px; height: 70px; border-radius: 50%; border: 2px solid transparent; cursor: pointer; overflow: hidden; background: #2b3139; }
        .avatar-item.selected { border-color: var(--gold); }
        .avatar-item img { width: 100%; height: 100%; object-fit: cover; }

        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù† */
        .security-list { padding: 15px; }
        .sec-item { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid #1e2329; cursor: pointer; }
        .sec-info { display: flex; flex-direction: column; }
        .sec-title { font-size: 1rem; margin-bottom: 4px; }
        .sec-val { font-size: 0.8rem; color: var(--text-gray); }

        /* ÙÙˆØ±Ù…Ø§Øª Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .input-group { padding: 20px; }
        input { width: 100%; padding: 15px; margin-bottom: 15px; background: #2b3139; border: 1px solid #444; color: white; border-radius: 10px; box-sizing: border-box; }
        .gold-btn { width: 100%; padding: 15px; background: var(--gold); color: black; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; }

        /* Ø§Ù„Ù€ Sidebar Ø§Ù„Ø£ØµÙ„ÙŠ */
        .user-sidebar { position: fixed; top: 0; right: -100%; width: 100%; height: 100%; background: var(--bg); z-index: 2000; transition: 0.4s; }
        .user-sidebar.active { right: 0; }
        header { padding: 12px 15px; background: var(--panel); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        .avatar-main { width: 80px; height: 80px; background: #2b3139; border-radius: 50%; margin: 20px auto; border: 2px solid #444; overflow: hidden; }
    </style>
</head>
<body>

    <div class="user-sidebar" id="userSidebar">
        <div class="modal-header">
            <div class="back-btn" onclick="toggleSidebar()">â”</div>
            <div style="font-weight: bold;">User Center</div>
        </div>
        <div style="text-align: center; padding: 20px;">
            <div class="avatar-main" id="current-avatar-display">ğŸ‘¤</div>
            <div id="display-email" style="font-weight: bold; font-size: 1.2rem;">****@***top</div>
            <div style="color: var(--buy); font-size: 0.8rem; margin-top: 5px;">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ù…Ø§Ù†: Ù…Ø±ØªÙØ¹ â”â”â”</div>
        </div>
        <div class="security-list">
            <div class="sec-item" onclick="openAvatarModal()">
                <span>Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</span>
                <span style="color:var(--text-gray);">â”</span>
            </div>
            <div class="sec-item" onclick="openSecurityModal()">
                <span>Ø§Ù„Ø£Ù…Ø§Ù†</span>
                <span style="color:var(--text-gray);">â”</span>
            </div>
            <div class="sec-item">
                <span>UID</span>
                <span id="display-uid" style="color:var(--gold);">510688194</span>
            </div>
        </div>
        <button onclick="localStorage.clear(); location.reload();" style="width: 90%; margin: 20px 5%; padding: 15px; background: #1e2329; color: var(--sell); border: 1px solid #333; border-radius: 12px;">Ø®Ø±ÙˆØ¬</button>
    </div>

    <div class="full-screen-modal" id="avatarModal">
        <div class="modal-header">
            <div class="back-btn" onclick="closeAllModals()">â”</div>
            <div style="font-weight: bold;">Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</div>
        </div>
        <div class="avatar-grid" id="avatarLibrary">
            </div>
        <div style="padding: 20px;">
            <button class="gold-btn" onclick="saveAvatar()">Ø­ÙØ¸</button>
        </div>
    </div>

    <div class="full-screen-modal" id="securityModal">
        <div class="modal-header">
            <div class="back-btn" onclick="closeAllModals()">â”</div>
            <div style="font-weight: bold;">Ø§Ù„Ø£Ù…Ø§Ù†</div>
        </div>
        <div class="security-list">
            <div class="sec-item" onclick="openPassChange()">
                <div class="sec-info"><span class="sec-title">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span><span class="sec-val">Ø­Ù…Ø§ÙŠØ© Ø­Ø³Ø§Ø¨Ùƒ</span></div>
                <span>ğŸ”’</span>
            </div>
            <div class="sec-item">
                <div class="sec-info"><span class="sec-title">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span><span id="sec-email-val" class="sec-val">****@***top</span></div>
                <span>âœ‰ï¸</span>
            </div>
            <div class="sec-item">
                <div class="sec-info"><span class="sec-title">Ù…ØµØ§Ø¯Ù‚Ø© Google (2FA)</span><span class="sec-val">ØºÙŠØ± Ù…ÙØ¹Ù„</span></div>
                <input type="checkbox" disabled>
            </div>
        </div>
    </div>

    <div class="full-screen-modal" id="passChangeModal">
        <div class="modal-header">
            <div class="back-btn" onclick="document.getElementById('passChangeModal').style.display='none'">â”</div>
            <div style="font-weight: bold;">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</div>
        </div>
        <div class="input-group">
            <input type="password" id="oldPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©">
            <input type="password" id="newPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
            <div style="display: flex; gap: 10px;">
                <input type="text" id="otpInput" placeholder="Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚">
                <button onclick="sendFakeOTP()" style="height: 50px; background: #2b3139; color: var(--gold); border: 1px solid #444; border-radius: 8px; padding: 0 10px; font-size: 0.7rem;">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø²</button>
            </div>
            <p style="font-size: 0.7rem; color: var(--text-gray);">* Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù… Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.</p>
            <button class="gold-btn" onclick="confirmPassChange()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØºÙŠÙŠØ±</button>
        </div>
    </div>

    <header>
        <div onclick="toggleSidebar()" style="font-size: 1.8rem; cursor: pointer;">ğŸ‘¤</div>
        <div style="color: var(--gold); font-weight: bold;">ABSI NEXUS</div>
        <button style="background: var(--gold); border: none; padding: 6px 12px; border-radius: 6px; font-weight: bold;">Ù…Ø­ÙØ¸ØªÙŠ</button>
    </header>

    <script>
        let selectedAvatarUrl = "";
        let generatedOTP = "";

        // ØªÙˆÙ„ÙŠØ¯ Ù…ÙƒØªØ¨Ø© Ø§Ù„ØµÙˆØ±
        function initAvatars() {
            const library = document.getElementById('avatarLibrary');
            for(let i=1; i<=20; i++) {
                let div = document.createElement('div');
                div.className = 'avatar-item';
                // ØµÙˆØ± Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø§Ù„Ø£ÙØ§ØªØ§Ø±Ø² Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©
                let imgUrl = `https://api.dicebear.com/7.x/avataaars/svg?seed=${i + 100}&backgroundColor=b6e3f4,c0aede,d1d4f9`;
                div.innerHTML = `<img src="${imgUrl}" onclick="selectAvatar(this, '${imgUrl}')">`;
                library.appendChild(div);
            }
        }

        function selectAvatar(el, url) {
            document.querySelectorAll('.avatar-item').forEach(item => item.classList.remove('selected'));
            el.parentElement.classList.add('selected');
            selectedAvatarUrl = url;
        }

        function saveAvatar() {
            if(!selectedAvatarUrl) return alert("Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹");
            localStorage.setItem('absi_avatar', selectedAvatarUrl);
            document.getElementById('current-avatar-display').innerHTML = `<img src="${selectedAvatarUrl}" style="width:100%; height:100%;">`;
            closeAllModals();
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø§Ù† Ùˆ OTP
        function sendFakeOTP() {
            generatedOTP = Math.floor(100000 + Math.random() * 900000);
            alert(`[Ù†Ø¸Ø§Ù… ABSI] ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: ${generatedOTP}`);
        }

        function confirmPassChange() {
            const otp = document.getElementById('otpInput').value;
            if(otp == generatedOTP && otp != "") {
                alert("âœ… ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!");
                closeAllModals();
            } else {
                alert("âŒ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ ØºÙŠØ± ØµØ­ÙŠØ­");
            }
        }

        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ù‚Ù„
        function toggleSidebar() { document.getElementById('userSidebar').classList.toggle('active'); }
        function openAvatarModal() { document.getElementById('avatarModal').style.display = 'flex'; }
        function openSecurityModal() { document.getElementById('securityModal').style.display = 'flex'; }
        function openPassChange() { document.getElementById('passChangeModal').style.display = 'flex'; }
        function closeAllModals() { document.querySelectorAll('.full-screen-modal').forEach(m => m.style.display = 'none'); }

        window.onload = () => {
            initAvatars();
            const savedAvatar = localStorage.getItem('absi_avatar');
            if(savedAvatar) document.getElementById('current-avatar-display').innerHTML = `<img src="${savedAvatar}" style="width:100%; height:100%;">`;
            
            let email = localStorage.getItem('absi_user') || "user@absi.top";
            document.getElementById('display-email').innerText = email;
            document.getElementById('sec-email-val').innerText = email;
        };
    </script>
</body>
</html>
