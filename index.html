<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABSI EXCHANGE | Live Trading</title>
    <style>
        :root {
            --bg-color: #0b0e11;
            --panel-bg: #1e2329;
            --gold: #f0b90b;
            --buy: #0ecb81;
            --sell: #f6465d;
            --text-gray: #848e9c;
        }

        body {
            background-color: var(--bg-color);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            margin: 0; padding: 0;
            overflow-x: hidden;
        }

        .header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 15px; background: var(--panel-bg); border-bottom: 2px solid var(--gold);
        }
        .brand { color: var(--gold); font-weight: bold; font-size: 1.2rem; }

        /* توزيع الشبكة مثل الصورة */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* عمودين في الأعلى */
            gap: 10px; padding: 10px;
        }

        .panel {
            background: var(--panel-bg);
            border-radius: 8px;
            padding: 10px;
            border: 1px solid #333;
        }

        .panel-title {
            font-size: 0.8rem; color: var(--text-gray);
            margin-bottom: 8px; border-bottom: 1px solid #333;
            padding-bottom: 5px; display: flex; justify-content: space-between;
        }

        /* دفتر الأوامر */
        .order-book-list { font-family: monospace; font-size: 0.8rem; height: 150px; overflow: hidden; }
        .row { display: flex; justify-content: space-between; margin-bottom: 2px; }
        .p-sell { color: var(--sell); }
        .p-buy { color: var(--buy); }

        /* الرسم البياني */
        .chart-container { height: 250px; width: 100%; margin-top: 10px; }

        /* منطقة الأزرار */
        .trading-footer {
            padding: 15px; background: var(--panel-bg);
            margin-top: 10px; border-radius: 12px 12px 0 0;
        }
        .input-row { display: flex; gap: 10px; margin-bottom: 10px; }
        .trade-input {
            flex: 1; background: #2b3139; border: 1px solid #444;
            color: white; padding: 12px; border-radius: 8px; text-align: center;
        }
        .action-btns { display: flex; gap: 10px; }
        .btn {
            flex: 1; padding: 15px; border: none; border-radius: 8px;
            font-weight: bold; color: white; cursor: pointer; font-size: 1rem;
        }
        .btn-buy { background: var(--buy); }
        .btn-sell { background: var(--sell); }

        /* العداد */
        .launch-box {
            text-align: center; padding: 40px 10px;
            background: linear-gradient(180deg, #1e2329 0%, #0b0e11 100%);
        }
        .timer-grid { display: flex; justify-content: center; gap: 8px; margin-top: 20px; }
        .t-box { background: var(--gold); color: black; padding: 10px; border-radius: 8px; min-width: 60px; }
        .t-box span { font-size: 1.5rem; font-weight: bold; display: block; }
    </style>
</head>
<body>

    <div class="header">
        <div style="color:var(--gold); font-size: 0.8rem;">▼ BTC/USDT</div>
        <div class="brand">ABSI EXCHANGE</div>
    </div>

    <div class="dashboard-grid">
        <div class="panel">
            <div class="panel-title"><span>السعر (USDT)</span><span>الكمية</span></div>
            <div id="sell-list" class="order-book-list" style="display:flex; flex-direction:column-reverse;"></div>
        </div>
        <div class="panel">
            <div class="panel-title"><span>سجل الصفقات</span><span>الوقت</span></div>
            <div id="history-list" class="order-book-list"></div>
        </div>
    </div>

    <div class="panel" style="margin: 0 10px;">
        <div id="tradingview_widget" class="chart-container"></div>
    </div>

    <div class="trading-footer">
        <div class="input-row">
            <input type="text" class="trade-input" id="live-price1" readonly>
            <input type="text" class="trade-input" id="live-price2" readonly>
        </div>
        <div class="input-row">
            <input type="text" class="trade-input" placeholder="الكمية BTC">
            <input type="text" class="trade-input" placeholder="الكمية BTC">
        </div>
        <div class="action-btns">
            <button class="btn btn-sell">بيع</button>
            <button class="btn btn-buy">شراء</button>
        </div>
    </div>

    <div class="launch-box">
        <h1 style="color:var(--gold); margin:0;">ABSI/USDT</h1>
        <p style="color:var(--text-gray);">موعد الإدراج الرسمي والتداول المباشر</p>
        <div class="timer-grid">
            <div class="t-box"><span id="d">00</span><small>يوم</small></div>
            <div class="t-box"><span id="h">00</span><small>ساعة</small></div>
            <div class="t-box"><span id="m">00</span><small>دقيقة</small></div>
            <div class="t-box"><span id="s">00</span><small>ثانية</small></div>
        </div>
        <button style="margin-top:20px; background:var(--gold); padding:10px 30px; border-radius:20px; border:none; font-weight:bold;">اشترِ الآن (Pre-sale)</button>
    </div>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // تشغيل الرسم البياني
        new TradingView.widget({
            "autosize": true, "symbol": "BINANCE:BTCUSDT", "interval": "1",
            "theme": "dark", "style": "1", "locale": "ar", "container_id": "tradingview_widget",
            "hide_top_toolbar": true, "hide_legend": true
        });

        // محاكاة الأرقام الحية
        let price = 98452.97;
        function updateLiveFields() {
            price += (Math.random() - 0.5) * 5;
            const pStr = price.toFixed(2);
            document.getElementById('live-price1').value = pStr;
            document.getElementById('live-price2').value = pStr;

            // تحديث دفتر الأوامر
            const sellList = document.getElementById('sell-list');
            const histList = document.getElementById('history-list');
            
            const row = `<div class="row"><span class="p-sell">${(price + Math.random()*10).toFixed(2)}</span><span>${Math.random().toFixed(3)}</span></div>`;
            sellList.innerHTML += row;
            if(sellList.children.length > 8) sellList.firstChild.remove();

            const hRow = `<div class="row"><span>${pStr}</span><span style="color:#848e9c">${new Date().toLocaleTimeString([], {hour12:false})}</span></div>`;
            histList.insertAdjacentHTML('afterbegin', hRow);
            if(histList.children.length > 8) histList.lastChild.remove();
        }
        setInterval(updateLiveFields, 2000);

        // المؤقت التنازلي
        const target = new Date("Jan 1, 2026 00:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const diff = target - now;
            document.getElementById('d').innerText = Math.floor(diff / (1000 * 60 * 60 * 24));
            document.getElementById('h').innerText = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            document.getElementById('m').innerText = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById('s').innerText = Math.floor((diff % (1000 * 60)) / 1000);
        }, 1000);
    </script>
</body>
</html>
