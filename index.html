<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ABSI NEXUS | Professional Trading Hub</title>
    <style>
        :root { --bg: #0b0e11; --panel: #1e2329; --gold: #f0b90b; --buy: #0ecb81; --sell: #f6465d; --text-gray: #848e9c; }
        body { background-color: var(--bg); color: white; margin: 0; font-family: sans-serif; overflow: hidden; height: 100vh; display: flex; flex-direction: column; }
        
        header { padding: 10px 15px; background: var(--panel); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; height: 55px; flex-shrink: 0; }
        .wallet-btn { background: var(--gold); color: black; padding: 6px 12px; border-radius: 6px; font-weight: bold; border: none; cursor: pointer; font-size: 0.85rem; }

        .market-header { background: #1e2329; padding: 8px 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #2b3139; flex-shrink: 0; }
        select { background: #2b3139; color: var(--gold); border: 1px solid #444; border-radius: 4px; padding: 4px; outline: none; font-weight: bold; width: 130px; }

        #tradingview_container { flex-grow: 1; position: relative; width: 100%; background: #000; overflow: hidden; }
        #tv_chart { height: 100% !important; width: 100% !important; }

        /* ØªØ¹Ø¯ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ù„ØªÙƒÙˆÙ† Ø¸Ø§Ù‡Ø±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
        .trade-footer { background: var(--panel); padding: 10px 15px; border-radius: 15px 15px 0 0; border-top: 1px solid #333; flex-shrink: 0; box-sizing: border-box; }
        .input-box { width: 100%; padding: 10px; margin-bottom: 8px; background: #2b3139; border: 1px solid #444; color: white; border-radius: 8px; text-align: center; font-size: 0.9rem; box-sizing: border-box; }
        .btn-row { display: flex; gap: 8px; }
        .btn-t { flex: 1; padding: 12px; border: none; border-radius: 8px; font-weight: bold; color: white; font-size: 0.95rem; cursor: pointer; }

        /* Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10000; display: none; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; }
        .modal-content { background: var(--panel); width: 100%; max-width: 350px; border-radius: 20px; padding: 20px; border: 1px solid var(--gold); text-align: center; }
        .dep-item { background: #2b3139; padding: 12px; border-radius: 10px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; cursor: pointer; border: 1px solid transparent; }
        .dep-item:active { border-color: var(--gold); }

        .full-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 9999; display: none; flex-direction: column; }
        .overlay-header { padding: 20px; border-bottom: 1px solid #222; display: flex; align-items: center; }
        .user-side { position: fixed; top: 0; right: -100%; width: 100%; height: 100%; background: var(--bg); z-index: 5000; transition: 0.4s; overflow-y: auto; }
        .user-side.active { right: 0; }
        .sec-row { display: flex; justify-content: space-between; padding: 20px; border-bottom: 1px solid #1e2329; cursor: pointer; }
    </style>
</head>
<body>

    <header>
        <div style="display:flex; align-items:center; gap:12px;">
            <div onclick="toggleUserSide()" style="font-size:1.8rem; cursor:pointer;" id="top-avatar">ğŸ‘¤</div>
            <button class="wallet-btn" onclick="openDeposit()">Ù…Ø­ÙØ¸ØªÙŠ</button>
        </div>
        <div style="color:var(--gold); font-weight:bold;">ABSI NEXUS</div>
    </header>

    <div class="market-header">
        <select id="pairList" onchange="changeSymbol(this.value)">
            <option value="BTCUSDT">Bitcoin (BTC)</option>
            <option value="ETHUSDT">Ethereum (ETH)</option>
            <option value="SOLUSDT">Solana (SOL)</option>
            <option value="ABSIUSDT">ABSI NEXUS â­</option>
        </select>
        <div id="price-now" style="color:var(--gold); font-weight:bold; font-family:monospace;">0.00 $</div>
    </div>

    <div id="tradingview_container">
        <div id="tv_chart"></div>
    </div>

    <div class="trade-footer">
        <input type="number" class="input-box" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ© USDT">
        <div class="btn-row">
            <button class="btn-t" style="background:var(--buy)" onclick="showLowBalance()">Ø´Ø±Ø§Ø¡</button>
            <button class="btn-t" style="background:var(--sell)" onclick="showLowBalance()">Ø¨ÙŠØ¹</button>
        </div>
    </div>

    <div class="modal-overlay" id="depositModal">
        <div class="modal-content">
            <h3 style="color:var(--gold); margin-top:0;">Ø¥ÙŠØ¯Ø§Ø¹ Ø§Ù„Ø£Ù…ÙˆØ§Ù„</h3>
            <div class="dep-item" onclick="alert('Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¯Ø¹Ù… Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø¹Ù…Ù„ÙŠØ© Ø²ÙŠÙ† ÙƒØ§Ø´')"><span>ğŸ“±</span> Ø²ÙŠÙ† ÙƒØ§Ø´ (Zain Cash)</div>
            <div class="dep-item" onclick="alert('Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨Ù†ÙƒÙŠØ© Ø³ØªØªÙˆÙØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹')"><span>ğŸ’³</span> Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù† (Visa/Master)</div>
            <div class="dep-item" onclick="alert('Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„ØªØ§Ø¬Ø± P2P')"><span>ğŸ¤</span> Ù…Ù† Ø´Ø®Øµ Ù„Ø´Ø®Øµ (P2P)</div>
            <div class="dep-item" onclick="alert('Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ÙØ¸ØªÙƒ (TRC20): TXXXXXX...')"><span>ğŸ”—</span> Ø¥ÙŠØ¯Ø§Ø¹ Ø¨Ù„ÙˆÙƒØ´ÙŠÙ† (Crypto)</div>
            <button onclick="closeModals()" style="background:none; border:none; color:var(--text-gray); margin-top:10px; cursor:pointer;">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <div class="modal-overlay" id="lowBalanceModal">
        <div class="modal-content">
            <div style="font-size:2.5rem;">âš ï¸</div>
            <h3 style="color:var(--gold);">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ</h3>
            <button class="btn-t" style="background:var(--gold); color:black; width:100%; margin-top:10px;" onclick="openDeposit()">Ø¥ÙŠØ¯Ø§Ø¹ Ø§Ù„Ø¢Ù†</button>
            <button onclick="closeModals()" style="background:none; border:none; color:var(--text-gray); margin-top:10px; cursor:pointer;">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <div class="user-side" id="userSide">
        <div class="overlay-header">
            <div style="font-size:1.5rem; cursor:pointer;" onclick="toggleUserSide()">â”</div>
            <div style="margin-right:15px; font-weight:bold;">Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</div>
        </div>
        <div style="text-align:center; padding:30px;">
            <div id="side-avatar-display" style="width:90px; height:90px; background:#2b3139; border-radius:50%; margin:0 auto 15px; border:2px solid var(--gold); overflow:hidden;">ğŸ‘¤</div>
            <div id="user-mail" style="font-weight:bold; font-size:1.2rem;">user@absi.top</div>
        </div>
        <div class="sec-row" onclick="openOverlay('avatarOverlay')"><span>Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</span> â”</div>
        <div class="sec-row" onclick="openOverlay('securityOverlay')"><span>Ø§Ù„Ø£Ù…Ø§Ù†</span> â”</div>
        <div class="sec-row" onclick="alert('UID ØªÙ… Ù†Ø³Ø®Ù‡!')"><span>UID</span> <span id="uid-display" style="color:var(--gold);">510688194</span></div>
        <button onclick="localStorage.clear(); location.reload();" style="width:90%; margin:20px 5%; padding:15px; background:#1e2329; color:var(--sell); border:1px solid #333; border-radius:12px; font-weight:bold;">Ø®Ø±ÙˆØ¬</button>
    </div>

    <div class="full-overlay" id="avatarOverlay">
        <div class="overlay-header"><div onclick="closeOverlays()">â”</div><div>Ø§Ø®ØªØ± ØµÙˆØ±ØªÙƒ</div></div>
        <div id="avatarLib" style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; padding:20px;"></div>
    </div>

    <div class="full-overlay" id="securityOverlay">
        <div class="overlay-header"><div onclick="closeOverlays()">â”</div><div>Ø§Ù„Ø£Ù…Ø§Ù†</div></div>
        <div style="padding:20px;">
            <input type="password" class="input-box" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
            <button class="wallet-btn" style="width:100%; padding:15px;" onclick="alert('ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«!'); closeOverlays();">ØªØ­Ø¯ÙŠØ«</button>
        </div>
    </div>

    <script src="https://s3.tradingview.com/tv.js"></script>
    <script>
        function toggleUserSide() { document.getElementById('userSide').classList.toggle('active'); }
        function openOverlay(id) { document.getElementById(id).style.display = 'flex'; }
        function closeOverlays() { document.querySelectorAll('.full-overlay, .modal-overlay').forEach(o => o.style.display='none'); }
        function openDeposit() { closeOverlays(); document.getElementById('depositModal').style.display='flex'; }
        function showLowBalance() { document.getElementById('lowBalanceModal').style.display='flex'; }

        function initChart(symbol) {
            new TradingView.widget({
                "autosize": true, "symbol": "BINANCE:" + symbol,
                "interval": "1", "theme": "dark", "style": "1", "locale": "ar",
                "hide_side_toolbar": false, "container_id": "tv_chart"
            });
            connectPrice(symbol);
        }

        function connectPrice(s) {
            const ws = new WebSocket(`wss://stream.binance.com:9443/ws/${s.toLowerCase()}@ticker`);
            ws.onmessage = (e) => {
                const d = JSON.parse(e.data);
                document.getElementById('price-now').innerText = parseFloat(d.c).toFixed(2) + " $";
            };
        }

        function changeSymbol(v) { initChart(v); }

        window.onload = () => {
            initChart("BTCUSDT");
            let uid = localStorage.getItem('absi_uid') || Math.floor(100000000 + Math.random() * 900000000);
            localStorage.setItem('absi_uid', uid);
            document.getElementById('uid-display').innerText = uid;
        };
    </script>
</body>
</html>
